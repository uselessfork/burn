<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corn Protocol</title>
    <link rel="icon" type="image/x-icon" href="coke.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #fffef5 0%, #fef9e7 100%);
            color: #8b7355;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 3rem;
            background: white;
            box-shadow: 0 2px 10px rgba(251, 221, 92, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(135deg, #fbdd5c 0%, #f4c542 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 2px;
            cursor: pointer;
        }

        .nav {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav a {
            text-decoration: none;
            color: #b8963e;
            font-weight: 600;
            transition: color 0.3s;
            position: relative;
            padding-bottom: 0.25rem;
            cursor: pointer;
        }

        .nav a:hover {
            color: #fbdd5c;
        }

        .nav a.active {
            color: #b8963e;
            border-bottom: 2px solid #b8963e;
        }

        .connect-btn {
            background: linear-gradient(135deg, #fbdd5c 0%, #f4c542 100%);
            color: #5a4a2f;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .connect-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(251, 221, 92, 0.3);
        }

        .connect-btn.connected {
            background: linear-gradient(135deg, #f4c542 0%, #e0b030 100%);
        }

        .x-button {
            background: transparent;
            border: 2px solid rgba(251, 221, 92, 0.3);
            border-radius: 50%;
            padding: 0.5rem;
            color: #b8963e;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            width: 40px;
            height: 40px;
        }

        .x-button:hover {
            background: rgba(251, 221, 92, 0.1);
            border-color: #fbdd5c;
            transform: scale(1.1);
        }

        .x-button svg {
            width: 20px;
            height: 20px;
            fill: #b8963e;
        }

        .main-container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            gap: 4rem;
            justify-content: center;
        }

        .content {
            flex: 1;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Home page specific styles */
        .home-page {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: calc(100vh - 120px);
        }

        .home-hero {
            text-align: center;
            padding: 2rem;
        }

        .hero-icon-large {
            width: 200px;
            height: 200px;
            margin: 0 auto 2rem;
            display: block;
        }

        .home-title {
            font-size: 4rem;
            font-weight: 800;
            background: linear-gradient(135deg, #fbdd5c 0%, #f4c542 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            letter-spacing: 3px;
        }

        .home-tagline {
            font-size: 1.5rem;
            color: #8b7355;
            margin-bottom: 3rem;
            font-weight: 500;
        }

        .launch-app-btn {
            background: linear-gradient(135deg, #fbdd5c 0%, #f4c542 100%);
            color: #5a4a2f;
            border: none;
            padding: 1.25rem 3.5rem;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.2rem;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 5px 25px rgba(251, 221, 92, 0.3);
        }

        .launch-app-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 35px rgba(251, 221, 92, 0.4);
        }

        /* Leaderboard Styles */
        .leaderboard-container {
            text-align: center;
            padding: 3rem 0;
        }

        .leaderboard-title {
            font-size: 3rem;
            color: #b8963e;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .leaderboard-subtitle {
            font-size: 1.2rem;
            color: #8b7355;
            margin-bottom: 3rem;
        }

        .empty-state {
            background: white;
            padding: 4rem 2rem;
            border-radius: 20px;
            border: 2px dashed #fbdd5c;
            max-width: 600px;
            margin: 0 auto;
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .empty-state h3 {
            font-size: 1.8rem;
            color: #b8963e;
            margin-bottom: 1rem;
        }

        .empty-state p {
            font-size: 1.1rem;
            color: #8b7355;
            line-height: 1.6;
        }

        /* Dev Fees Page Styles */
        .dev-fees-container {
            text-align: center;
            padding: 2rem 0;
        }

        .circle-container {
            position: relative;
            width: 280px;
            height: 280px;
            margin: 0 auto 3rem;
        }

        .circle {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(135deg, #fbdd5c 0%, #f4c542 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                0 0 40px rgba(251, 221, 92, 0.3),
                inset 0 0 60px rgba(0, 0, 0, 0.2);
            border: 8px solid #b8963e;
            position: relative;
            overflow: hidden;
        }

        .circle::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }

        .fee-amount {
            font-size: 3.5rem;
            font-weight: 700;
            color: #5a4a2f;
            z-index: 1;
            position: relative;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .fee-amount.updating {
            transform: scale(1.05);
        }

        .update-indicator {
            font-size: 0.9rem;
            color: #b8963e;
            margin-top: 1rem;
            font-weight: 500;
        }

        .info-section {
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            margin-top: 2rem;
            border: 2px solid rgba(251, 221, 92, 0.3);
            box-shadow: 0 8px 32px rgba(251, 221, 92, 0.1);
        }

        .info-section h2 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: #b8963e;
            font-weight: 600;
        }

        .fee-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .fee-card {
            background: rgba(251, 221, 92, 0.05);
            padding: 1.5rem;
            border-radius: 15px;
            border: 2px solid rgba(251, 221, 92, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .fee-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(251, 221, 92, 0.2);
            border-color: rgba(251, 221, 92, 0.4);
        }

        .fee-card h3 {
            font-size: 1.3rem;
            margin-bottom: 0.8rem;
            color: #b8963e;
            font-weight: 600;
        }

        .fee-card p {
            font-size: 1rem;
            line-height: 1.6;
            color: #8b7355;
        }

        .percentage {
            font-size: 2rem;
            font-weight: 700;
            color: #fbdd5c;
            margin-bottom: 0.5rem;
        }

        /* Whitepaper Styles */
        .whitepaper-container {
            padding: 3rem 0;
        }

        .page-header {
            margin-bottom: 3rem;
        }

        .page-title {
            font-size: 3rem;
            font-weight: 700;
            color: #b8963e;
            margin-bottom: 0.5rem;
            letter-spacing: 1px;
        }

        .page-subtitle {
            font-size: 1.1rem;
            color: #8b7355;
        }

        .hero-icon {
            width: 120px;
            height: 120px;
            margin-bottom: 2rem;
        }

        .intro-text {
            font-size: 1.3rem;
            color: #b8963e;
            margin-bottom: 3rem;
            line-height: 1.6;
        }

        .section {
            margin-bottom: 3rem;
        }

        .section h2 {
            font-size: 2rem;
            color: #b8963e;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .section p {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #8b7355;
            margin-bottom: 1rem;
        }

        .view {
            display: none;
        }

        .view.active {
            display: block;
        }

        /* Profile/Wallet Connection */
        .profile-container {
            text-align: center;
            padding: 3rem 0;
        }

        .wallet-card {
            background: white;
            padding: 4rem 2rem;
            border-radius: 20px;
            border: 2px solid rgba(251, 221, 92, 0.3);
            max-width: 500px;
            margin: 0 auto;
            box-shadow: 0 8px 32px rgba(251, 221, 92, 0.1);
        }

        .wallet-icon {
            width: 100px;
            height: 100px;
            margin: 0 auto 2rem;
            background: linear-gradient(135deg, #fbdd5c 0%, #f4c542 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }

        .wallet-card h2 {
            font-size: 2rem;
            color: #b8963e;
            margin-bottom: 1rem;
        }

        .wallet-card p {
            font-size: 1.1rem;
            color: #8b7355;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .wallet-info {
            background: rgba(251, 221, 92, 0.1);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 2rem;
        }

        .wallet-address {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #b8963e;
            word-break: break-all;
            margin-top: 0.5rem;
        }

        @media (max-width: 1024px) {
            .main-container {
                padding: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            .header {
                padding: 1rem;
                flex-wrap: wrap;
                gap: 1rem;
            }

            .nav {
                display: none;
            }

            .x-button {
                display: none;
            }

            .home-title {
                font-size: 3rem;
            }

            .home-tagline {
                font-size: 1.2rem;
            }

            .hero-icon-large {
                width: 150px;
                height: 150px;
            }

            .launch-app-btn {
                padding: 1rem 2.5rem;
                font-size: 1.1rem;
            }

            .page-title, .leaderboard-title {
                font-size: 2.5rem;
            }

            .circle-container {
                width: 220px;
                height: 220px;
            }

            .fee-amount {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo" onclick="showView('home')">CORN</div>
        <nav class="nav">
            <a onclick="showView('leaderboard')" id="nav-leaderboard">Leaderboard</a>
            <a onclick="showView('devfees')" id="nav-devfees">Check Dev Fees</a>
            <a onclick="showView('whitepaper')" id="nav-whitepaper">Whitepaper</a>
            <a href="https://x.com/CornProtocolXyz" target="_blank" rel="noopener noreferrer" class="x-button">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
                </svg>
            </a>
        </nav>
        <button class="connect-btn" id="connectBtn" onclick="connectWallet()">Connect Wallet</button>
    </header>

    <!-- Home View -->
    <div id="home-view" class="view active">
        <div class="main-container">
            <main class="content home-page">
                <div class="home-hero">
                    <div class="hero-icon-large">
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <!-- Corn cob shape -->
                            <ellipse cx="100" cy="100" rx="35" ry="85" fill="#fbdd5c" opacity="0.9"/>
                            <ellipse cx="100" cy="100" rx="30" ry="80" fill="#f9e79f"/>
                            <!-- Corn kernels pattern -->
                            <circle cx="85" cy="60" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="100" cy="60" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="115" cy="60" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="92" cy="75" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="108" cy="75" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="85" cy="90" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="100" cy="90" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="115" cy="90" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="92" cy="105" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="108" cy="105" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="85" cy="120" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="100" cy="120" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="115" cy="120" r="6" fill="#f4c542" opacity="0.8"/>
                            <!-- Green husk leaves -->
                            <path d="M 70 40 Q 60 30 50 35 Q 55 45 70 50 Z" fill="#9acd32" opacity="0.7"/>
                            <path d="M 130 40 Q 140 30 150 35 Q 145 45 130 50 Z" fill="#9acd32" opacity="0.7"/>
                            <path d="M 75 35 Q 65 20 55 25 Q 60 40 75 45 Z" fill="#85bb2f" opacity="0.6"/>
                        </svg>
                    </div>
                    <h1 class="home-title">CORN PROTOCOL</h1>
                    <p class="home-tagline">Hold tokens. Earn from farming. Get paid daily.<br>The way toly wanted</p>
                    <button class="launch-app-btn" onclick="showView('whitepaper')">Launch App</button>
                </div>
            </main>
        </div>
    </div>

    <!-- Leaderboard View -->
    <div id="leaderboard-view" class="view">
        <div class="main-container">
            <main class="content">
                <div class="leaderboard-container">
                    <h1 class="leaderboard-title">üèÜ Leaderboard</h1>
                    <p class="leaderboard-subtitle">Top holders and their earnings</p>
                    
                    <div class="empty-state">
                        <div class="empty-state-icon">üåΩ</div>
                        <h3>Coming Soon!</h3>
                        <p>The leaderboard will be available once the project launches. Check back after launch to see the top holders and their farming rewards!</p>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Dev Fees View -->
    <div id="devfees-view" class="view">
        <div class="main-container">
            <main class="content">
                <div class="dev-fees-container">
                    <h1 class="page-title">Developer Fee Pool</h1>
                    
                    <div class="circle-container">
                        <div class="circle">
                            <div class="fee-amount" id="feeAmount">$0</div>
                        </div>
                    </div>
                    
                    <div class="update-indicator" id="updateIndicator">
                        Updates every 5 seconds
                    </div>

                    <div class="info-section">
                        <h2>How Developer Fees Work</h2>
                        <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 2rem; color: #8b7355;">
                            The amount displayed above represents the current developer fee pool. This value automatically updates every 5 seconds to reflect real-time accumulation of fees from the platform.
                        </p>

                        <div class="fee-breakdown">
                            <div class="fee-card">
                                <h3>üåæ Farming Operations</h3>
                                <div class="percentage">90%</div>
                                <p>
                                    The majority of collected fees are dedicated to farming operations across multiple cryptocurrencies, generating daily profits for all holders.
                                </p>
                            </div>

                            <div class="fee-card">
                                <h3>üõ†Ô∏è Development Fund</h3>
                                <div class="percentage">10%</div>
                                <p>
                                    A portion is allocated to the development team for ongoing platform maintenance, feature development, and operational expenses.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Whitepaper View -->
    <div id="whitepaper-view" class="view">
        <div class="main-container">
            <main class="content whitepaper-container">
                <div class="page-header">
                    <div class="hero-icon">
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <!-- Corn cob shape -->
                            <ellipse cx="100" cy="100" rx="35" ry="85" fill="#fbdd5c" opacity="0.9"/>
                            <ellipse cx="100" cy="100" rx="30" ry="80" fill="#f9e79f"/>
                            <!-- Corn kernels pattern -->
                            <circle cx="85" cy="60" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="100" cy="60" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="115" cy="60" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="92" cy="75" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="108" cy="75" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="85" cy="90" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="100" cy="90" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="115" cy="90" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="92" cy="105" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="108" cy="105" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="85" cy="120" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="100" cy="120" r="6" fill="#f4c542" opacity="0.8"/>
                            <circle cx="115" cy="120" r="6" fill="#f4c542" opacity="0.8"/>
                            <!-- Green husk leaves -->
                            <path d="M 70 40 Q 60 30 50 35 Q 55 45 70 50 Z" fill="#9acd32" opacity="0.7"/>
                            <path d="M 130 40 Q 140 30 150 35 Q 145 45 130 50 Z" fill="#9acd32" opacity="0.7"/>
                            <path d="M 75 35 Q 65 20 55 25 Q 60 40 75 45 Z" fill="#85bb2f" opacity="0.6"/>
                        </svg>
                    </div>
                    <h1 class="page-title">Whitepaper</h1>
                    <p class="page-subtitle">Learn about the protocol.</p>
                </div>

                <p class="intro-text">Corn is a revolutionary project where we reinvest all dev fees to farm various coins and redistribute those profits every 24 hours to holders.</p>

                <section class="section">
                    <h2>Motivation</h2>
                    <p>Traditional crypto projects keep developer fees for the team. We're doing something different. At Corn, 100% of all developer fees generated from platform activity are reinvested into farming operations across multiple cryptocurrencies.</p>
                    <p>Every 24 hours, the farming profits are automatically distributed to all Corn holders proportional to their holdings. This creates a sustainable, passive income stream for our community while supporting the broader crypto farming ecosystem.</p>
                </section>

                <section class="section">
                    <h2>How It Works</h2>
                    <p>üí∞ <strong>Hold CORN</strong> - Simply hold CORN tokens in your wallet. No staking required, no lock-up periods, no complex processes.</p>
                    <p>üåæ <strong>We Farm for You</strong> - All dev fees from platform transactions are used to farm various cryptocurrencies including CORN and other profitable coins.</p>
                    <p>üìà <strong>Daily Distributions</strong> - Every 24 hours, farming profits are automatically redistributed to all holders based on their token percentage.</p>
                    <p>üîÑ <strong>Claim or Reinvest</strong> - Use your daily earnings to claim profits or reinvest to buy more CORN tokens and increase your share of future distributions.</p>
                </section>

                <section class="section">
                    <h2>Why CornFun?</h2>
                    <p>Corn eliminates the complexity of crypto farming while giving you direct exposure to farming profits. You don't need expensive hardware, technical knowledge, or high electricity costs. We handle all the farming operations and infrastructure.</p>
                    <p>Your returns grow automatically through daily profit distributions, and you maintain complete control over your tokens. With no lock-up periods and transparent, automated distributions, you can claim your earnings anytime or compound your position by reinvesting.</p>
                    <p>Built on Solana's high-speed blockchain, all transactions are fast, secure, and cost-effective. Join a community where dev fees benefit everyone, not just the team.</p>
                </section>

                <section class="section">
                    <h2>Earnings Calculator</h2>
                    <p>Your earnings depend on your token holdings and the daily farming profits generated. Here's how to calculate your potential returns:</p>
                    <p><strong>Your Daily Earnings = (Your Tokens / Total Supply) √ó Daily Farming Profits</strong></p>
                    <p>For example, if you hold 1% of the total CORN supply and the farming operations generate $1,000 in daily profits, you would receive $10 per day, which equals $300 per month or $3,650 per year.</p>
                    <p>Farming profits vary based on market conditions, but the distribution mechanism ensures all holders benefit proportionally from the collective farming power.</p>
                </section>

                <section class="section">
                    <h2>Tokenomics</h2>
                    <p><strong>Total Supply:</strong> 1,000,000,000 (1B) CORN tokens</p>
                    <p><strong>Distribution:</strong></p>
                    <p>‚Ä¢ 5% - Team</p>
                    <p>‚Ä¢ 95% - Public Circulation</p>
                    <p><strong>Dev Fee Structure:</strong> 2% fee on all platform transactions, 100% allocated to farming operations.</p>
                </section>
            </main>
        </div>
    </div>

    <!-- Profile/Wallet View -->
    <div id="profile-view" class="view">
        <div class="main-container">
            <main class="content">
                <div class="profile-container">
                    <div class="wallet-card" id="walletCard">
                        <div class="wallet-icon">üëõ</div>
                        <h2>Connect Your Wallet</h2>
                        <p>Connect your Solana wallet to view your CORN holdings, track your earnings, and claim your farming rewards.</p>
                        <button class="launch-app-btn" onclick="connectWallet()">Connect Phantom Wallet</button>
                        
                        <div id="walletInfo" class="wallet-info" style="display: none;">
                            <h3 style="color: #b8963e; margin-bottom: 0.5rem;">Connected Wallet</h3>
                            <div class="wallet-address" id="walletAddress"></div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        const STORAGE_KEY = 'corn_fee_amount';
        let currentFee = 0.00;
        let walletConnected = false;
        let walletAddress = null;

        // Load saved fee from localStorage
        function loadSavedFee() {
            const savedFee = localStorage.getItem(STORAGE_KEY);
            if (savedFee !== null) {
                currentFee = parseFloat(savedFee);
            }
        }

        // Save fee to localStorage
        function saveFee() {
            localStorage.setItem(STORAGE_KEY, currentFee.toString());
        }

        function formatCurrency(amount) {
            return `$${amount.toFixed(2)}`;
        }

        function generateRandomIncrement() {
            // Generate a random increment between $0.01 and $0.99
            return (Math.random() * 0.98 + 0.01);
        }

        function updateFee() {
            const feeElement = document.getElementById('feeAmount');
            const updateIndicator = document.getElementById('updateIndicator');
            
            if (!feeElement) return;

            // Add animation class
            feeElement.classList.add('updating');
            
            // Update the fee after a brief moment
            setTimeout(() => {
                const increment = generateRandomIncrement();
                currentFee += increment;
                feeElement.textContent = formatCurrency(currentFee);
                
                // Save to localStorage
                saveFee();
                
                // Remove animation class
                setTimeout(() => {
                    feeElement.classList.remove('updating');
                }, 300);
            }, 150);

            // Update the indicator
            if (updateIndicator) {
                updateIndicator.textContent = 'Just updated ‚Ä¢ Next update in 5s';
                setTimeout(() => {
                    updateIndicator.textContent = 'Updates every 5 seconds';
                }, 2000);
            }
        }

        function showView(view) {
            // Hide all views
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            
            // Show selected view
            document.getElementById(view + '-view').classList.add('active');
            
            // Update nav active states
            document.querySelectorAll('.nav a').forEach(a => a.classList.remove('active'));
            const navElement = document.getElementById('nav-' + view);
            if (navElement) {
                navElement.classList.add('active');
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        async function connectWallet() {
            try {
                // Check if Phantom is installed
                const isPhantomInstalled = window.solana && window.solana.isPhantom;
                
                if (!isPhantomInstalled) {
                    alert('Phantom wallet is not installed. Please install it from https://phantom.app/');
                    window.open('https://phantom.app/', '_blank');
                    return;
                }

                // Connect to Phantom
                const response = await window.solana.connect();
                walletAddress = response.publicKey.toString();
                walletConnected = true;

                // Update UI
                const connectBtn = document.getElementById('connectBtn');
                connectBtn.textContent = walletAddress.slice(0, 4) + '...' + walletAddress.slice(-4);
                connectBtn.classList.add('connected');
                connectBtn.onclick = () => showView('profile');

                // Update wallet card
                const walletInfo = document.getElementById('walletInfo');
                const walletAddressElement = document.getElementById('walletAddress');
                if (walletInfo && walletAddressElement) {
                    walletAddressElement.textContent = walletAddress;
                    walletInfo.style.display = 'block';
                }

                // Show profile view
                showView('profile');

                console.log('Connected to wallet:', walletAddress);
            } catch (err) {
                console.error('Error connecting to wallet:', err);
                alert('Failed to connect wallet. Please try again.');
            }
        }

        // Disconnect wallet when user disconnects from Phantom
        if (window.solana) {
            window.solana.on('disconnect', () => {
                walletConnected = false;
                walletAddress = null;
                const connectBtn = document.getElementById('connectBtn');
                connectBtn.textContent = 'Connect Wallet';
                connectBtn.classList.remove('connected');
                connectBtn.onclick = connectWallet;
            });
        }

        // Initialize on page load
        loadSavedFee();
        
        // Set initial display for fee amount
        const initialFeeElement = document.getElementById('feeAmount');
        if (initialFeeElement) {
            initialFeeElement.textContent = formatCurrency(currentFee);
        }

        // Start fee updates after 5 seconds
        setTimeout(() => {
            updateFee();
            // Then continue updating every 5 seconds
            setInterval(updateFee, 5000);
        }, 5000);
    </script>
</body>
</html>
